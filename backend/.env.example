# ============================================================
# Rezeis Panel - Backend Environment Configuration
# ============================================================
# This file is for local development only.
# For production Docker deployment, use the root .env file.
# ============================================================

# Application
PORT=4000
NODE_ENV=development
APP_DOMAIN=localhost

# ============================================================
# DATABASE - PostgreSQL Configuration
# ============================================================
# For local development, connect to local PostgreSQL
DATABASE_URL=postgresql://rezeis:rezeis_dev@localhost:5432/rezeis_panel

# Or use individual variables:
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=rezeis_panel
DATABASE_USER=rezeis
DATABASE_PASSWORD=rezeis_dev

# Connection Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# ============================================================
# VALKEY - Cache & Session Store (Redis-compatible)
# ============================================================
VALKEY_HOST=localhost
VALKEY_PORT=6379
VALKEY_PASSWORD=
VALKEY_DB=0
VALKEY_MAX_CONNECTIONS=10
VALKEY_URL=valkey://localhost:6379/0

# Redis (backward compatibility - will be deprecated)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_NAME=0
REDIS_PASSWORD=

# ============================================================
# JWT - Authentication Configuration
# ============================================================
JWT_SECRET=dev-secret-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=dev-refresh-secret-key-change-in-production
JWT_REFRESH_EXPIRES_IN=30d

# ============================================================
# REMNAWAVE - VPN Panel Integration
# ============================================================
REMNAWAVE_HOST=remnawave
REMNAWAVE_PORT=3000
REMNAWAVE_TOKEN=your_remnawave_api_token_here
REMNAWAVE_WEBHOOK_SECRET=your_webhook_secret_here
REMNAWAVE_CADDY_TOKEN=
REMNAWAVE_COOKIE=
REMNAWAVE_SYNC_INTERVAL_MINUTES=5
REMNAWAVE_SYNC_ENABLED=true

# ============================================================
# TELEGRAM - Bot Integration
# ============================================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_from_botfather
TELEGRAM_WEBHOOK_SECRET=your_telegram_webhook_secret
TELEGRAM_MINI_APP_URL=https://t.me/your_bot/miniapp

# ============================================================
# ACCESS - Super Admin Configuration
# ============================================================
SUPER_ADMIN_TELEGRAM_ID=123456789

# ============================================================
# SECURITY - Rate Limiting & CORS
# ============================================================
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW_MS=60000
CORS_ORIGINS=http://localhost:4001,http://localhost:4002

# ============================================================
# LOGGING - Application Logs
# ============================================================
LOG_LEVEL=debug
LOG_FORMAT=pretty

# ============================================================
# FEATURE FLAGS - Enable/Disable Features
# ============================================================
FEATURE_PAYMENTS_ENABLED=true
FEATURE_REFERRAL_ENABLED=true
FEATURE_PARTNER_ENABLED=true
FEATURE_WEBSOCKET_ENABLED=true

# ============================================================
# BACKUP - Automated Backups
# ============================================================
BACKUP_ENABLED=false
BACKUP_INTERVAL_HOURS=24
BACKUP_TIME=03:00
BACKUP_MAX_KEEP=7
BACKUP_LOCATION=./backups
BACKUP_COMPRESSION=true
BACKUP_INCLUDE_TABLES=all

# Telegram Backup
BACKUP_TELEGRAM_ENABLED=false
BACKUP_TELEGRAM_CHAT_ID=
BACKUP_TELEGRAM_TOPIC_ID=

# S3 Backup
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=
BACKUP_S3_ENDPOINT=
